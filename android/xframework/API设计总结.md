# API设计总结

使用SPI未必是最佳的选择，它也有自己的缺点，或者说不优雅的地方；


它其实是变相的一种hard code，只是由java代码转为了编写配置文件，这个可以美其名曰“解耦”；

它用于动态加载实现类，所以对于使用ProGuard的项目，API实现库是unused（因为无直接引用），因此，必要地，需要在ProGuard配置文件中增加类似如下配置（仅是例子）：

	-keep public class * implements foo.Bar


但总的来说，它的使用并不复杂，这些实现类可以是自己编写的，也可以是从Github上clone下来的，就像一个试衣间，可以搭配出各式各样的API实现集合；

对gradle搭建的项目而言，只需要在app项目依赖框架库和实现库，解除了模块之间的依赖和对具体实现的依赖，让项目结构更清晰。